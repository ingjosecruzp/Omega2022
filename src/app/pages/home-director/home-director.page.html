<ion-header #toolbar [translucent]="false" style="background-color: #ffffff00;
border-radius: 0px 0px 0px 50px;" mode="ios">
    <ion-toolbar style="height: 16vh;
    border-radius: 0px 0px 0px 50px;--background:ffffff00;padding-top:0">
        <ion-title #text class="etitle">
            <ion-icon name="add-circle" #avatarUser style="display: none;color: white; transform: translateY(0.8vh);
             font-size: 27px;font-size: 4vh;"></ion-icon>
            <!--  <span style="opacity:0;    margin-right: -10px;">-</span>-->
            <div *ngIf="hayConexion">Hola, {{user.nombre}}!</div>
            <div style="color: var(--ion-color-principal-tituloUsuario);" *ngIf="!hayConexion">Sin conexión</div>
            <div *ngIf="hayConexion" style="display: flex;padding-top: 7px;"><span style="font-size: 1.5vh;font-weight: 600;color: var(--ion-color-principal-tituloVersion)">LBS+</span></div>
            <div *ngIf="!hayConexion" style="display: flex;padding-top: 7px;"><span style="font-size: 1.5vh;font-weight: 600;color: var(--ion-color-principal-tituloVersion)">Tu dispositivo no cuenta con una</span></div>
            <div *ngIf="hayConexion"><span style="display: flex;font-size: 1.5vh;font-weight: 600;color: var(--ion-color-principal-tituloVersion)">Versión 71</span></div>
            <div *ngIf="!hayConexion"><span style="display: flex;font-size: 1.5vh;font-weight: 600;color: var(--ion-color-principal-tituloVersion)">conexión a internet</span></div>
        </ion-title>

    </ion-toolbar>
</ion-header>
<ion-header #toolbar1 slot="end" [translucent]="false" style=" top: 0;height: 20vh;
border-radius: 0px 0px 0px 40px;
background-color: #ffffff00;
position: absolute;
width: 19vw;
max-width: 130px;
right: 0px;" mode="ios">

    <div style="height: 50%;
    padding-top: 3.6vh;
    padding-left: 5%;
    font-size: 4vh;
    color: white;">
        <ion-fab style="right: 21px;">
            <ion-fab-button (click)="Salir()" size="small" style="width: 35px;height: 35px;--background:var(--ion-color-principal-botonCerrarCesion);
            --background-activated: var(--ion-color-principal-cerrarCesion-activated);
            --background-focused: var(--ion-color-principal-cerrarCesion-focused);
            --background-hover: var(--ion-color-principal-cerrarCesion-hover)">
                <ion-icon src="assets/img/cerrar_sesion_icono.svg" style="font-size: 12px;color: var(--ion-color-principal-iconoBotonCerrarCesion);"></ion-icon>
            </ion-fab-button>
        </ion-fab>

    </div>

    <!--  <div style="  height: 50%;
    background-color: #F4315D;
    top: 50%;
    border-radius: 0px 0px 0px 40px;
    text-align: center;
    padding-top: 3vh;
    font-size: 3vh;
    color: aliceblue;">
        V61</div>-->

</ion-header>
<ion-title #animation7 mode="ios" style="left: 0px;bottom: 0px;padding-bottom: 49vh;padding-left: 30px;padding-right: 90px;padding-top: -1vh;/* padding-bottom: 16vh; *//* padding-bottom: 0px; */position: absolute;width: 100%;height: 100%;transform: translateZ(0px);font-size: 73px;font-weight: 500;text-align: left;box-sizing: border-box;pointer-events: none;color: var(--ion-color-principal-gradoUsuario);z-index: 5;/* letter-spacing: 3px;*/">
    {{user.campus}}</ion-title>

<ion-icon #animation8 style="color: var(--ion-color-principal-iconoCategoria);left: 0px;bottom: 0px;padding-bottom: 65vh;padding-left: 37px;padding-right: 79px;padding-top: -1vh;position: absolute;font-size: 34px;font-weight: 500;text-align: left;box-sizing: border-box;pointer-events: none;z-index: 5;"
    [src]="nombreIcono"></ion-icon>
<ion-title #tituloCategoria mode="ios" style="left: 0px;top: 0px;padding-left: 30px;padding-right: 90px;padding-top:67vh;padding-bottom: 0px;position: absolute;width: 100%;height: 100%;transform: translateZ(0px);font-size: 39px;font-weight: 700;text-align: left;box-sizing: border-box;pointer-events: none;z-index: 5;color: var(--ion-color-principal-tituloCategoria);letter-spacing: 3px;">{{header}}</ion-title>
<div #content id="container" style="background: var(--ion-color-principal)" slot="fixed">

    <ion-fab mode="ios" vertical="bottom" horizontal="center" slot="fixed" style="padding-bottom: 150px;touch-action: none;pointer-events: none;">
        <ion-fab-button disabled="true" #fabflechaarriba mode="ios" size="small" style="--background: #ffffff00; --box-shadow: none;box-shadow:none ;width: 46px;height:46px;">
            <div>
                <ion-icon src="assets/img/flecha_arriba_icono.svg" style="font-size: 20px;color:var(--ion-color-principal-iconoFlechaArriba) ;"></ion-icon>
            </div>

        </ion-fab-button>
    </ion-fab>

    <ion-slides #slideUp type="ios" style="transform: translateY(4vh);height: 100%;" (ionSlideTransitionStart)="ionSlideTransitionStart()" (ionSlideTouchStart)="ionSlideTouchStart()" (ionSlideTouchEnd)="ionSlideTouchEndSlide()" [options]="slideOpts">
        <ion-slide>
            <div #fondo1 class="animated zoomIn fast" style="margin-bottom: 90pxn; width: 100%;height:100%;background-repeat: no-repeat;background-size: 100% 100%;"></div>
        </ion-slide>
        <ion-slide>
            <div #fondo2 class="animated zoomIn fast" style="margin-bottom: 90px; width: 100%;height:100%;background-repeat: no-repeat;background-size: 100% 100%;"></div>
        </ion-slide>
        <ion-slide>
            <div #fondo3 class="animated zoomIn fast" style="margin-bottom: 90px; width: 100%;height:100%;;background-repeat: no-repeat;background-size: 100% 100%;"></div>
        </ion-slide>
    </ion-slides>

</div>

<ion-fab mode="ios" vertical="bottom" horizontal="center" slot="fixed" style="transform: translateX(-57px);/*margin-left: 23vw;*/">
    <ion-fab-button #fabstart mode="ios" size="small" style="--box-shadow:none ;--background-activated: var(--ion-color-principal-botonBajarContenedor); --background: var(--ion-color-principal-botonBajarContenedor);width: 46px;
    height:46px;transform: scale(0);display: none;">
        <ion-icon name="list-outline"></ion-icon>
    </ion-fab-button>
</ion-fab>
<ion-fab mode="ios" vertical="bottom" horizontal="center" slot="fixed">
    <ion-fab-button (click)="mover()" mode="ios" size="small" #fab style="--box-shadow:none ;--background-activated: var(--ion-color-principal-botonBajarContenedor); --background: var(--ion-color-principal-botonBajarContenedor);width: 46px;
    height:46px;transform: scale(0);">
        <ion-icon name="chevron-down-outline" style="font-size: 24px;"></ion-icon>
    </ion-fab-button>
</ion-fab>
<ion-fab mode="ios" vertical="bottom" horizontal="center" slot="fixed" style="transform: translateX(57px);/*margin-right: 21vw;*/">
    <ion-fab-button #fabend (click)="nuevoRecurso($event)" mode="ios" size="small" style="--box-shadow:none ;--background-activated: var(--ion-color-principal-botonBajarContenedor); --background: var(--ion-color-principal-botonBajarContenedor);
    height:46px;transform: scale(0);display: none;">
        <ion-icon name="add-outline"></ion-icon>
    </ion-fab-button>
</ion-fab>

<!-- Botones para escritorio -->
<ion-fab mode="ios" vertical="center" horizontal="end" slot="fixed" [ngStyle]="{'display': !isMobile ? 'block' : 'none' }">
    <ion-fab-button #fabNext (click)="nextSlide()" mode="ios" size="small" style="--box-shadow:none ;--background-activated: var(--ion-color-principal-botonBajarContenedor); --background: var(--ion-color-principal-botonBajarContenedor);width: 46px;
    height:46px;">
        <ion-icon name="chevron-forward-outline"></ion-icon>
    </ion-fab-button>
</ion-fab>

<ion-fab mode="ios" vertical="center" horizontal="start" slot="fixed" [ngStyle]="{'display': !isMobile ? 'block' : 'none' }">
    <ion-fab-button #fabPrev (click)="prevSlide()" mode="ios" size="small" style="--box-shadow:none ;--background-activated: var(--ion-color-principal-botonBajarContenedor); --background: var(--ion-color-principal-botonBajarContenedor);width: 46px;
    height:46px;">
        <ion-icon name="chevron-back-outline"></ion-icon>
    </ion-fab-button>
</ion-fab>
<!-- Termina botones para escritorio -->

<div #div2 class="edu1" style="transform: translateY(60vh);box-shadow:0px -14px 38px 0px rgb(var(--ion-color-principal-sombra));">
    <div style="position: -webkit-sticky;top: 0;font-size: 29px;z-index: 999;position: sticky;">
        <app-pill-menu (click)="test()" #pillMenu [itemsMenu]="tabs" [selectOption]="selectOption" (indicatorChanged)="segmentChanged($event)"></app-pill-menu>
    </div>
    <ion-header [translucent]="false" mode="ios"></ion-header>
    <ion-content #IonContentScroll [scrollY]="scrollenable" style="--background: #ffffff;">
        <div #elementsToProcess style="bottom: -0.1vh;position: relative;"></div>
        <!--Books-->
        <ion-slides [options]="slideOptsdos" #slideDown (ionSlideTouchEnd)="ionSlideTouchEnd(slideUp,slideDown)" *ngIf="selectSeccion == 1" style="min-height: 72.6vh;">
            <ion-slide>
                <!--<app-codes style="width: 100%;" (librosDescargados)="librosDescargados($event)" *ngIf="codigoVisible"></app-codes>-->
                <!--<app-books style="width: 100%;" (buscarPortadas)="buscarPortadas()" (updateAutoHeightSlider)="updateAutoHeightSlider()" #booksComponent [librosIN]="libros" *ngIf="!codigoVisible"> </app-books>-->
                <!--<app-books style="width: 100%;" (updateAutoHeightSlider)="updateAutoHeightSlider()" #booksComponent [librosIN]="libros" *ngIf="true"> </app-books>-->
                <app-books *ngIf="pildora === 'Todos'" (updateAutoHeightSlider)="updateAutoHeightSlider()" #booksComponent [idiomaIN]="'Todos'" [librosIN]="libros"></app-books>
            </ion-slide>
            <ion-slide>
                <!--<app-codes style="width: 100%;" (librosDescargados)="librosDescargados($event)" *ngIf="codigoVisible"></app-codes>-->
                <!--<app-books style="width: 100%;" (updateAutoHeightSlider)="updateAutoHeightSlider()" #booksComponentIngles [librosIN]="libros | filter : 'Ingles' : 'Idioma'" *ngIf="!codigoVisible"> </app-books>-->
                <app-books *ngIf="pildora === 'Inglés'" (updateAutoHeightSlider)="updateAutoHeightSlider()" #booksComponentIngles [idiomaIN]="'Ingles'"></app-books>
            </ion-slide>
            <ion-slide>
                <!--<app-codes style="width: 100%;" (librosDescargados)="librosDescargados($event)" *ngIf="codigoVisible"></app-codes>-->
                <!--<app-books style="width: 100%;" (updateAutoHeightSlider)="updateAutoHeightSlider()" #booksComponentEspanol [librosIN]="libros | filter : 'Espanol' : 'Idioma'" *ngIf="!codigoVisible"> </app-books>-->
                <app-books *ngIf="pildora === 'Español'" (updateAutoHeightSlider)="updateAutoHeightSlider()" #booksComponentEspanol [idiomaIN]="'Espanol'"></app-books>
            </ion-slide>
        </ion-slides>

        <!--Users-->
        <ion-slides [options]="slideOptsdos" #slideDown (ionSlideTouchEnd)="ionSlideTouchEnd(slideUp,slideDown)" *ngIf="selectSeccion == 2" style="min-height: 72.6vh;">
            <ion-slide>
                <div style="display: none" #processContainer></div>
            </ion-slide>
            <ion-slide>
                <div style="display: none" #processContainer2></div>
            </ion-slide>
            <ion-slide>
                <app-buscar-usuarios style="width: 100%;"></app-buscar-usuarios>
            </ion-slide>
        </ion-slides>

        <!--Community-->
        <ion-slides [options]="slideOptsdos" #slideDown (ionSlideTouchEnd)="ionSlideTouchEnd(slideUp,slideDown)" *ngIf="selectSeccion == 3" style="min-height: 72.6vh;">
            <ion-slide>
                <app-news *ngIf="pildora === 'Noticias'" #newsComponent style="width: 100%;" (updateAutoHeightSlider)="updateAutoHeightSlider()"></app-news>
            </ion-slide>
            <ion-slide>
                <app-chats *ngIf="pildora === 'Mensajes'" style="width: 100%;"></app-chats>
            </ion-slide>
        </ion-slides>
    </ion-content>
</div>